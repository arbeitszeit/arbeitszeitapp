{% macro plan_table(plans) %}

<h1 class="title">{{ plans.title }}</h1>

<div class="table-container">
  {% if plans.show %}
  <table class="table is-fullwidth">
    <thead>
      <tr>
        {% for heading in plans.headings.values() %} {% if heading.abbr %}
        <th>
          <abbr title="{{ heading.abbr }}"
            >{{ heading.text|replace(" ", "&nbsp;")|safe }}</abbr
          >
        </th>
        {% else %}
        <th>{{ heading.text|replace(" ", "&nbsp;")|safe }}</th>
        {% endif %} {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for plan in plans.rows %}
      <tr>
        {% for field in plan %}
        <td>
          {% if plan[field]|length > 20 %}
          <abbr title="{{ plan[field] }}">... {{ plan[field][20:] }}</abbr>
          {%else%}{{ plan[field] }}{%endif%}
        </td>
        {% endfor %} {% if plans.edit_type == "CREATE" %}
        <td>
          <a href="{{ url_for('main_company.create_offer', plan_id=plan.id) }}"
            ><i class="fas fa-store"></i
          ></a>
        </td>
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>({{plan.message}})</p>
  {% endif %}
</div>

{% endmacro %}
